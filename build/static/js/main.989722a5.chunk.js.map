{"version":3,"sources":["components/Header.js","components/Main.js","App.js","index.js"],"names":["Header","props","keyPress","value","className","aria-hidden","xlinkHref","action","method","onFocus","document","removeEventListener","onBlur","addEventListener","type","name","placeholder","Main","state","add","revise","map","index","onClick","e","href","url","target","rel","text","toUpperCase","preventDefault","App","local","localStorage","getItem","initialValue","JSON","parse","React","useState","setState","useCallback","key","useEffect","setItem","stringify","prompt","trim","urlText","indexOf","replace","obj","newState","push","splice","console","log","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.989722a5.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Header = (props) => {\n  const { keyPress } = props.value;\n  return (\n    <>\n      <header className=\"index-header \">\n        <svg className=\"icon\" aria-hidden=\"true\">\n          <use xlinkHref=\"#icon-fangdajing\" />\n        </svg>\n        <form\n          className=\"index-search\"\n          action=\"https://www.baidu.com/s\"\n          method=\"get\"\n        >\n          <input\n            onFocus={() => {\n              document.removeEventListener(\"keypress\", keyPress);\n            }}\n            onBlur={() => {\n              document.addEventListener(\"keypress\", keyPress);\n            }}\n            className=\"index-searchText\"\n            type=\"text\"\n            name=\"wd\"\n            placeholder=\"tips：按键盘键+号也可以添加网站\"\n          />\n          <button className=\"index-searchButton\" type=\"submit\">\n            搜索\n          </button>\n        </form>\n      </header>\n    </>\n  );\n};\nexport default Header;\n","import React from \"react\";\nconst Main = (props) => {\n  const { state, add, revise } = props.value;\n  return (\n    <main className=\"index-main\">\n      <ul className=\"index-main-ul\">\n        {state.map((value, index) => {\n          return (\n            <li key={index} className=\"main-list main-lists\">\n              <svg\n                onClick={(e) => {\n                  revise(index);\n                }}\n                className=\"icon close\"\n                aria-hidden=\"true\"\n              >\n                <use xlinkHref=\"#icon-close\"></use>\n              </svg>\n\n              <a href={value.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                <div className=\"list-logo\">{value.text[0].toUpperCase()}</div>\n                <span className=\"list-text\">{value.text}</span>\n              </a>\n            </li>\n          );\n        })}\n        <li onClick={add} className=\"main-list add\">\n          <a\n            href=\"baidu.com\"\n            onClick={(e) => {\n              e.preventDefault();\n            }}\n          >\n            <div className=\"list-logo\">\n              <svg className=\"icon\" aria-hidden=\"true\">\n                <use xlinkHref=\"#icon-add\" />\n              </svg>\n            </div>\n            <span className=\"list-text\">新建网站</span>\n          </a>\n        </li>\n      </ul>\n    </main>\n  );\n};\nexport default Main;\n","import React from \"react\";\nimport Header from \"./components/Header\";\nimport Main from \"./components/Main\";\nexport default function App() {\n  let local = localStorage.getItem(\"x\");\n  let initialValue = JSON.parse(local) || [];\n  const [state, setState] = React.useState(initialValue);\n  // 定义一个全局键盘事件函数，按+可以执行add函数\n  const keyPress = React.useCallback((e) => {\n    if (e.key === \"+\" || e.key === \"=\") {\n      add();\n    }\n  }, []);\n  //将数据存入localStorage里\n  //增加事件\n  //删除事件,否则会有多重键盘事件\n  React.useEffect(() => {\n    localStorage.setItem(\"x\", JSON.stringify(state));\n\n    document.addEventListener(\"keypress\", keyPress);\n    return () => {\n      document.removeEventListener(\"keypress\", keyPress);\n    };\n  }, [state, keyPress]);\n  //修改state\n  const revise = (index) => {\n    setState((state) => {\n      const newState = JSON.parse(JSON.stringify(state));\n      newState.splice(index, 1);\n      console.log(index);\n      return newState;\n    });\n  };\n  //添加网站函数\n  const add = () => {\n    let url = prompt(\"请输入网站地址\");\n    if (url === null || url.trim() === \"\") {\n      return null;\n    } else {\n      url = url.indexOf(\"http\") === -1 ? \"https://\" + url : url;\n    }\n    let urlText = url\n      .replace(\"http://\", \"\")\n      .replace(\"https://\", \"\")\n      .replace(\"www.\", \"\")\n      .replace(\" \", \"\")\n      .trim()\n      .replace(/\\/.*/, \"\");\n    if (urlText !== \"\") {\n      let obj = {\n        text: urlText,\n        url: url,\n      };\n      setState((state) => {\n        const newState = JSON.parse(JSON.stringify(state));\n        newState.push(obj);\n        return newState;\n      });\n    }\n  };\n  return (\n    <>\n      <Header value={{ add: add, keyPress: keyPress }} />\n      <Main\n        value={{ state: state, add: add, setState: setState, revise: revise }}\n      />\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./cssReset.css\";\nimport \"./App.css\";\nimport App from \"./App\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}